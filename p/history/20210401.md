## 心情小记

自从2020年年底运天下因没有网络货运牌照暂停运营到现在已经5个月了。

每天呆在家也是有些许感触：收入来源需要多样化才能稳定。

关于排队免单：
```
用户支付100元，每个商户都拿出10%作为营销费用。也就是支付100元其实商户到账100元为冻结金额。
免单池里就有了10元。
以此类推当免单池足够100元，这笔钱要返给排在第一的那个订单对应的人。
排名可以做权重，按分享点赞等方式增加权重。分越高排名越靠前。
返还的钱放入下单用户的钱包余额中，下次来店可以当钱使用。
用户使用余额支付，
进行分账处理，将免单积累金额对应的订单与商户进行分账处理，

a商户  b商户  a     a   a   b   a   a   a   a
100   100   100   100 100 100 100 100 100 100
10    10    10    10  10  10  10  10  10  10
用户1  用户2 用户3

a商户冻结余额 800
b商户冻结余额 200
免单池 100

这时候触发免单：
b商户  a     a   a   b   a   a   a   a
100   100   100   100 100 100 100 100 100 100
10    10    10    10  10  10  10  10  10  10
用户2 用户3

a商户得到余额 100*8*90% = 720
b商户得到余额 100*2*90% = 180
免单池 0
用户1余额增加100

这时候出现一个公户的问题，用户的余额应该放在哪里？
1. 放在公户中，用户使用余额支付的时候应该是从公户扣钱给商户
2. 用户消费的时候再触发分账，但如果用户不消费这钱是不是就一直冻结？
```
多商户的收款是一个需要解决的问题，主要是两部分：
1. 商户开户
2. 用户使用余额支付

商户开户可以使用微信和支付宝的服务商模式，为商户开户手续费才0.2。
用户余额里的钱来自于免单，而免单的钱来自于商家的折扣。